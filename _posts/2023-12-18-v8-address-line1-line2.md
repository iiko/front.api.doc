---
title: API V8 Создание доставки с полем адреса Line1.
layout: default
---

В API V8 появилась возможность создавать доставки, где адрес формируется с помощью поля **Line1**, вместо полей город, улица, дом, корпус.<br>

**Line1** - это часть адреса, которая указывает как найти объект на карте при геокодировании.<br>
**Пример:** Москва, Варшавское шоссе, д.86, корп.2

Для формирования доставки нужно включить в настройках ресторана 
(*Администрирование -> Настройки торгового предприятия*) на главной странице в разделе "*Формат адреса доставки*"(внизу страницы настроек) 
пункт "*Использовать новый формат адреса*" и выбрать ниже режим: *Поля "Куда везти", "квартира", "этаж"....*<br>
После перезапустить iikoFront и iikoOffice для применения настроек отображения адресов.

**ОСОБЕННОСТЬ ФОРМИРОВАНИЯ ЗАПРОСА:**<br>
>При создании доставки в адресе (Address) **должны** быть заполнены поля **StreetId и House** следующим образом:<br>
*StreetId = f8aaf1ec-8f46-907f-9357-e4c27bab5f78* - Id пустой улицы в БД (одинаковый для всех баз).<br>
*House = ""* - пустая строка или string.Empty, но отсутствие данного поля не допустимо.<br>

**Пример формирования адреса:**<br>
```cs
var address = new AddressDto
{
   Line1 = "Москва, Варшавское шоссе,д.80,корп.2",
   StreetId = Guid.Parse("f8aaf1ec-8f46-907f-9357-e4c27bab5f78"),
   House = "",
   Flat = "37",
   Floor = "2",
   AdditionalInfo = "Детали адреса",
   Doorphone = "37",
   Entrance = "3"
};
```