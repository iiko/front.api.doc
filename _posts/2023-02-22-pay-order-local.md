---
title: Оплата заказа на текущей кассе
layout: default
tags: v8
---

Ранее из API заказ можно было оплачивать только на главном терминале.
При этом главный терминал должен был быть кассовым (с подключенным фискальным регистратором).
В одной из [предыдущих версий]({{ site.baseurl }}/2020/12/23/terminals-group-changes.html)
мы сделали попытку избавиться от термина "Главная касса", отвязав главный терминал от точки продаж и, как следствие, от фискального регистратора.
В API V8 сделали следующий шаг, разрешив оплату заказа на локальном терминале.


В методы [`PayOrder`](https://iiko.github.io/front.api.sdk/v8/html/M_Resto_Front_Api_IOperationService_PayOrder.htm)
и [`PayOrderAndPayOutOnUser`](https://iiko.github.io/front.api.sdk/v8/html/M_Resto_Front_Api_IOperationService_PayOrderAndPayOutOnUser.htm)
был добавлен новый аргумент `isPaymentLocal`, от которого зависит,
будет ли заказ оплачиваться на локальном фискальном регистраторе,
или он будет оплачиваться на фискальном регистраторе главного терминала.

Напомним, что оплата заказа методом
[`PayOrderAndPayOutOnUser`](https://iiko.github.io/front.api.sdk/v8/html/M_Resto_Front_Api_IOperationService_PayOrderAndPayOutOnUser.htm)
наличными формирует задолженность у официантов.
Раньше такая задолженность учитывалась только на главном терминале.
Теперь же задолженность учитывается на всех терминалах, на которых происходила подобная оплата.
Погасить такую задолженность можно только на том терминале, на котором она была сформирована (происходила подобная оплата).